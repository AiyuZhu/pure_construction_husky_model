<?xml version="1.0" ?>
<robot name="c_husky">
    <material name="dark_grey">
        <color rgba="0.2 0.2 0.2 1.0" />
    </material>
    <material name="medium_grey">
        <color rgba="0.6 0.6 0.6 1.0" />
    </material>
    <material name="light_grey">
        <color rgba="0.8 0.8 0.8 1.0" />
    </material>
    <material name="yellow">
        <color rgba="0.8 0.8 0.0 1.0" />
    </material>
    <material name="black">
        <color rgba="0.15 0.15 0.15 1.0" />
    </material>
    <material name="white">
        <color rgba="1.0 1.0 1.0 1.0" />
    </material>
    <material name="red">
        <color rgba="1.0 0.0 0.0 1.0" />
    </material>

<!-- ////////////////////////////////    FOR_HUSKY_MOBILE_BASE_BEGIN  ///////////////////////////////////////////////// -->
    <!-- ////////////////////////////////    PARAMS_FOR_BASE_LINK  ///////////////////////////////////////////////// -->
    <!-- Base link is the center of the robot's bottom plate -->
    <link name="base_link">
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://c_husky_description/meshes/husky/base_link.dae" />
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0.0 0 0.061875" />
            <geometry>
                <box size="0.9874 0.5709 0.12375" />
            </geometry>
        </collision>        
        <inertial>
            <mass value="1.1" />
            <inertia ixx="0.03" iyy="0.03" izz="0.03" ixy="0.0" ixz="0.0" iyz="0.0" />
        </inertial>
    </link>
    <!-- Add dummy to fix root error -->
    <link name="dummy">
    </link>
    <joint name="dummy_joint" type="fixed">
        <parent link="dummy"/>
        <child link="base_link"/>
    </joint>
    <!-- Base footprint is on the ground under the robot -->
    <link name="base_footprint" />
    <joint name="base_footprint_joint" type="fixed">
        <origin rpy="0 0 0" xyz="0 0 -0.13228" />
        <parent link="base_link" />
        <child link="base_footprint" />
    </joint>
    <!-- Inertial link stores the robot's inertial information -->
    <link name="inertial_link">  
        <inertial>
            <mass value="46.034" />
            <origin xyz="-0.00065 -0.085 0.062" />
            <inertia ixx="0.6022" ixy="-0.02364" ixz="-0.1197" iyy="1.7386" iyz="-0.001544" izz="2.0296" />
        </inertial>
    </link>
    <joint name="inertial_joint" type="fixed">
        <origin rpy="0 0 0" xyz="0 0 0" />
        <parent link="base_link" />
        <child link="inertial_link" />
    </joint>
    <!-- IMU Link is the standard mounting position for the UM6 IMU.-->
    <link name="imu_link" />
    <joint name="imu_joint" type="fixed">
        <origin rpy="0 -1.5708 3.1416" xyz="0.19 0 0.149" />
        <parent link="base_link" />
        <child link="imu_link" />
    </joint>
    <!-- link_imu_to_gazebo -->
    <gazebo reference="imu_link" />
    <gazebo>
        <plugin filename="libhector_gazebo_ros_imu.so" name="imu_controller">
            <robotNamespace>/</robotNamespace>
            <updateRate>50.0</updateRate>
            <bodyName>base_link</bodyName>
            <topicName>imu/data</topicName>
            <accelDrift>0.005 0.005 0.005</accelDrift>
            <accelGaussianNoise>0.005 0.005 0.005</accelGaussianNoise>
            <rateDrift>0.005 0.005 0.005</rateDrift>
            <rateGaussianNoise>0.005 0.005 0.005</rateGaussianNoise>
            <headingDrift>0.005</headingDrift>
            <headingGaussianNoise>0.005</headingGaussianNoise>
        </plugin>
    </gazebo>

    <!-- ////////////////////////////////    PARAMS_FOR_FRONT_LEFT_WHEEL  ///////////////////////////////////////////////// -->
    <!-- front_left_wheel -->
    <link name="front_left_wheel_link">             
        <inertial>
            <mass value="2.637" />
            <origin xyz="0 0 0" />
            <inertia ixx="0.02467" ixy="0" ixz="0" iyy="0.04411" iyz="0" izz="0.02467" />
        </inertial>

        <visual>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://c_husky_description/meshes/husky/wheel.dae" />
            </geometry>
        </visual>

        <collision>
            <origin rpy="1.570795 0 0" xyz="0 0 0" />
            <geometry>
                <cylinder length="0.1143" radius="0.1651" />
            </geometry>
        </collision>
    </link>
    <!-- add_front_left_wheel_to_base_link -->
    <joint name="front_left_wheel" type="continuous">
        <parent link="base_link" />
        <child link="front_left_wheel_link" />
        <origin rpy="0 0 0" xyz="0.256 0.2854 0.03282" />
        <axis rpy="0 0 0" xyz="0 1 0" />
    </joint>
    <!-- link_front_left_wheel_to_gazebo -->
    <gazebo reference="front_left_wheel_link">
        <mu1 value="1.0" />
        <mu2 value="1.0" />
        <kp value="10000000.0" />
        <kd value="1.0" />
        <fdir1 value="1 0 0" />
    </gazebo>
    <!-- set_transmission -->
    <transmission name="front_left_wheel_trans" type="SimpleTransmission">
        <type>transmission_interface/SimpleTransmission</type>
        <actuator name="front_left_wheel_motor">
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
        <joint name="front_left_wheel">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
        </joint>
    </transmission>

    <!-- ////////////////////////////////    PARAMS_FOR_FRONT_RIGHT_WHEEL  ///////////////////////////////////////////////// -->
    <!-- front_right_wheel -->
    <link name="front_right_wheel_link">
        <inertial>
            <mass value="2.637" />
            <origin xyz="0 0 0" />
            <inertia ixx="0.02467" ixy="0" ixz="0" iyy="0.04411" iyz="0" izz="0.02467" />
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://c_husky_description/meshes/husky/wheel.dae" />
            </geometry>
        </visual>
        <collision>
            <origin rpy="1.570795 0 0" xyz="0 0 0" />
            <geometry>
                <cylinder length="0.1143" radius="0.1651" />
            </geometry>
        </collision>
    </link>
    <!-- add_front_right_wheel_to_base_link -->
    <joint name="front_right_wheel" type="continuous">
        <parent link="base_link" />
        <child link="front_right_wheel_link" />
        <origin rpy="0 0 0" xyz="0.256 -0.2854 0.03282" />
        <axis rpy="0 0 0" xyz="0 1 0" />
    </joint>
    <!-- link_front_right_wheel_to_gazebo -->
    <gazebo reference="front_right_wheel_link">
        <mu1 value="1.0" />
        <mu2 value="1.0" />
        <kp value="10000000.0" />
        <kd value="1.0" />
        <fdir1 value="1 0 0" />
    </gazebo>
    <!-- set_transmission -->
    <transmission name="front_right_wheel_trans" type="SimpleTransmission">
        <type>transmission_interface/SimpleTransmission</type>
        <actuator name="front_right_wheel_motor">
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
        <joint name="front_right_wheel">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
        </joint>
    </transmission>

    <!-- ////////////////////////////////    PARAMS_FOR_REAR_LEFT_WHEEL  ///////////////////////////////////////////////// -->
    <!-- rear_left_wheel -->
    <link name="rear_left_wheel_link">
        <inertial>
            <mass value="2.637" />
            <origin xyz="0 0 0" />
            <inertia ixx="0.02467" ixy="0" ixz="0" iyy="0.04411" iyz="0" izz="0.02467" />
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://c_husky_description/meshes/husky/wheel.dae" />
            </geometry>
        </visual>
        <collision>
            <origin rpy="1.570795 0 0" xyz="0 0 0" />
            <geometry>
                <cylinder length="0.1143" radius="0.1651" />
            </geometry>
        </collision>
    </link>
    <!-- add_rear_left_wheel_to_base_link -->
    <joint name="rear_left_wheel" type="continuous">
        <parent link="base_link" />
        <child link="rear_left_wheel_link" />
        <origin rpy="0 0 0" xyz="-0.256 0.2854 0.03282" />
        <axis rpy="0 0 0" xyz="0 1 0" />
    </joint>
    <!-- link_rear_left_wheel_to_gazebo -->
    <gazebo reference="rear_left_wheel_link">
        <mu1 value="1.0" />
        <mu2 value="1.0" />
        <kp value="10000000.0" />
        <kd value="1.0" />
        <fdir1 value="1 0 0" />
    </gazebo>
    <!-- set_transmission -->
    <transmission name="rear_left_wheel_trans" type="SimpleTransmission">
        <type>transmission_interface/SimpleTransmission</type>
        <actuator name="rear_left_wheel_motor">
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
        <joint name="rear_left_wheel">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
        </joint>
    </transmission>

    <!-- ////////////////////////////////    PARAMS_FOR_REAR_RIGHT_WHEEL  ///////////////////////////////////////////////// -->
    <!-- rear_right_wheel -->
    <link name="rear_right_wheel_link">
        <inertial>
            <mass value="2.637" />
            <origin xyz="0 0 0" />
            <inertia ixx="0.02467" ixy="0" ixz="0" iyy="0.04411" iyz="0" izz="0.02467" />
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://c_husky_description/meshes/husky/wheel.dae" />
            </geometry>
        </visual>
        <collision>
            <origin rpy="1.570795 0 0" xyz="0 0 0" />
            <geometry>
                <cylinder length="0.1143" radius="0.1651" />
            </geometry>
        </collision>
    </link>
    <!-- add_rear_right_wheel_to_base_link -->
    <joint name="rear_right_wheel" type="continuous">
        <parent link="base_link" />
        <child link="rear_right_wheel_link" />
        <origin rpy="0 0 0" xyz="-0.256 -0.2854 0.03282" />
        <axis rpy="0 0 0" xyz="0 1 0" />
    </joint>
    <!-- link_rear_right_wheel_to_gazebo -->
    <gazebo reference="rear_right_wheel_link">
        <mu1 value="1.0" />
        <mu2 value="1.0" />
        <kp value="10000000.0" />
        <kd value="1.0" />
        <fdir1 value="1 0 0" />
    </gazebo>
    <!-- set_transmission -->
    <transmission name="rear_right_wheel_trans" type="SimpleTransmission">
        <type>transmission_interface/SimpleTransmission</type>
        <actuator name="rear_right_wheel_motor">
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
        <joint name="rear_right_wheel">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
        </joint>
    </transmission>

    <!-- ////////////////////////////////    PARAMS_FOR_CHASSIS  ///////////////////////////////////////////////// -->
    <!-- spawn_husky_chassis -->
    <link name="top_chassis_link">
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://c_husky_description/meshes/husky/top_chassis.dae" />
            </geometry>
        </visual>
    </link>
    <!-- attach_chassis_to_the_base_link -->
    <joint name="top_chassis_joint" type="fixed">
        <parent link="base_link" />
        <child link="top_chassis_link" />
    </joint>

    <!-- ////////////////////////////////    PARAMS_FOR_RAILS  ///////////////////////////////////////////////// -->
    <!-- spawn_rails -->
    <link name="user_rail_link">
        <visual>
            <geometry>
                <mesh filename="package://c_husky_description/meshes/husky/user_rail.dae" />
            </geometry>
        </visual>
    </link>
    <!-- attach_user_rails_to_base_link -->
    <joint name="user_rail" type="fixed">
        <origin rpy="0 0 0" xyz="0.272 0 0.245" />
        <parent link="base_link" />
        <child link="user_rail_link" />
    </joint>

    <!-- ////////////////////////////////    PARAMS_FOR_FRONT_BUMPER  ///////////////////////////////////////////////// -->
    <!-- spawn_front_bumper -->
    <link name="front_bumper_link">
        <visual>
            <geometry>
                <mesh filename="package://c_husky_description/meshes/husky/bumper.dae" />
            </geometry>
        </visual>
    </link>
    <!-- attach_front_bumper -->
    <joint name="front_bumper" type="fixed">
        <origin rpy="0 0 0" xyz="0.48 0 0.091" />
        <parent link="base_link" />
        <child link="front_bumper_link" />
    </joint>

    <!-- ////////////////////////////////    PARAMS_FOR_REAR_BUMPER  ///////////////////////////////////////////////// -->
    <!-- spawn_rear_bumper -->
    <link name="rear_bumper_link">
        <visual>
            <geometry>
                <mesh filename="package://c_husky_description/meshes/husky/bumper.dae" />
            </geometry>
        </visual>
    </link>
    <!-- attach_rear_bumper -->
    <joint name="rear_bumper" type="fixed">
        <origin rpy="0 0 3.14159" xyz="-0.48 0 0.091" />
        <parent link="base_link" />
        <child link="rear_bumper_link" />
    </joint>

    <!-- ////////////////////////////////    PARAMS_FOR_TOP_PLATE  ///////////////////////////////////////////////// -->
    <!-- spawn_top_plate -->
    <link name="top_plate_link">
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://c_husky_description/meshes/husky/top_plate.dae" />
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://c_husky_description/meshes/husky/top_plate.stl" />
            </geometry>
        </collision>
        <inertial>
            <mass value="0.1" />
            <inertia ixx="0.03" iyy="0.03" izz="0.03" ixy="0.0" ixz="0.0" iyz="0.0" />
        </inertial>
    </link>
    <!-- attach_top_plate -->
    <joint name="top_plate_joint" type="fixed">
        <parent link="base_link" />
        <child link="top_plate_link" />
        <origin rpy="0 0 0" xyz="0.0812 0 0.245" />
    </joint>

    <!-- ////////////////////////////////   ADD_VIRTUAL_LINK_FOR_ROBOT_ARM_ATTACH_TO_MOBILE_BASE ///////////////////////////////////////////////// -->
    <!-- add_a_top_front_plate_virtual_link -->
    <link name="top_plate_front_link" />
    <!-- attach_top_front_plate_virtual_link -->
    <joint name="top_plate_front_joint" type="fixed">
        <parent link="top_plate_link" />
        <child link="top_plate_front_link" />
        <origin rpy="0 0 0" xyz="0.36367 0 0.00639" />
    </joint>
    <!-- add_a_rear_virtual_link -->
    <link name="top_plate_rear_link" />
    <!-- attach_rear_front_plate_virtual_link -->
    <joint name="top_plate_rear_joint" type="fixed">
        <parent link="top_plate_link" />
        <child link="top_plate_rear_link" />
        <origin rpy="0 0 0" xyz="-0.36633 0 0.00639" />
    </joint>

<!-- ////////////////////////////////   IF YOU WANT TO USE lms1xx LASER ///////////////////////////////////////////////// -->
    <!-- ////////////////////////////////   PARAMS_FOR_LASER ///////////////////////////////////////////////// -->
    <!-- laser_link -->
    <link name="base_laser">
        <inertial>
            <mass value="0.1" />
            <origin xyz="0 0 0" />
            <inertia ixx="0.00307156543804" ixy="0.0" ixz="0.0" iyy="0.0031284904152700005" iyz="0.0" izz="0.00196432421427" />
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <box size="0.03 0.03 0.03" />
            </geometry>
            <material name="white"/>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 -0.05" />
            <geometry>
                <box size="0.03 0.03 0.03" />
            </geometry>
        </collision>
    </link>
    <!-- add_laser_to_top_plate -->
    <joint name="base_laser_joint" type="fixed">
        <origin rpy="0.0 0.0 0.0" xyz="0.30 0.2 0.02" />
        <parent link="top_plate_link" />
        <child link="base_laser" />
    </joint>
    <!-- link_laser_params_to_gazebo -->
    <gazebo reference="base_laser">
        <turnGravityOff>true</turnGravityOff>
        <sensor name="base_laser" type="ray">
            <pose>0 0 0 0 0 0</pose>
            <visualize>false</visualize>
            <update_rate>50</update_rate>
            <ray>
                <scan>
                    <horizontal>
                        <samples>720</samples>
                        <resolution>1</resolution>
                        <min_angle>-2.35619</min_angle>
                        <max_angle>2.35619</max_angle>
                    </horizontal>
                </scan>
                <range>
                    <min>0.1</min>
                    <max>30.0</max>
                    <resolution>0.01</resolution>
                </range>
                <noise>
                    <type>gaussian</type>
                    <mean>0.0</mean>
                    <stddev>0.001</stddev>
                </noise>
            </ray>
            <plugin filename="libgazebo_ros_laser.so" name="gazebo_ros_laser">
                <topicName>scan</topicName>
                <frameName>base_laser</frameName>
                <robotNamespace>/front_laser</robotNamespace>
            </plugin>
        </sensor>
    </gazebo>
<!-- ////////////////////////////////   IF YOU WANT TO USE lms1xx LASER ///////////////////////////////////////////////// -->
<!-- ////////////////////////////////    FOR_HUSKY_MOBILE_BASE_END  ///////////////////////////////////////////////// -->


<!-- ////////////////////////////////  LINK_UR_ARM_TO_HUSKY  ///////////////////////////////////////////////// -->
    <joint name="arm_mount_joint" type="fixed">
        <parent link="top_plate_front_link" />
        <child link="ur_arm_base_link" />
        <origin rpy="0 0 3.1415927" xyz="-0.405 0.0 0.0" />
    </joint>
<!-- ////////////////////////////////  LINK_UR_ARM_TO_HUSKY  ///////////////////////////////////////////////// -->


<!-- ////////////////////////////////  FOR_UR_ARM_BEGIN  ///////////////////////////////////////////////// -->
    <!-- ////////////////////////////////  PARAMS_FOR_UR_ARM_BASE  ///////////////////////////////////////////////// -->
    <!-- ur_arm_base_link -->
    <link name="ur_arm_base_link">
        <visual>
            <geometry>
                <mesh filename="package://c_husky_description/meshes/ur5e/visual/base.dae" />
            </geometry>
            <material name="LightGrey">
                <color rgba="0.7 0.7 0.7 1.0" />
            </material>
        </visual>
        <collision>
            <geometry>
                <mesh filename="package://c_husky_description/meshes/ur5e/collision/base.stl" />
            </geometry>
        </collision>
        <inertial>
            <mass value="4.0" />
            <origin rpy="0 0 0" xyz="0.0 0.0 0.0" />
            <inertia ixx="0.00443333156" ixy="0.0" ixz="0.0" iyy="0.00443333156" iyz="0.0" izz="0.0072" />
        </inertial>
    </link>

    <!-- ////////////////////////////////  PARAMS_FOR_UR_ARM_SHOULDER  ///////////////////////////////////////////////// -->
    <!-- ur_arm_shoulder_link -->
    <link name="ur_arm_shoulder_link">
        <visual>
            <geometry>
                <mesh filename="package://c_husky_description/meshes/ur5e/visual/shoulder.dae" />
            </geometry>
            <material name="LightGrey">
                <color rgba="0.7 0.7 0.7 1.0" />
            </material>
        </visual>
        <collision>
            <geometry>
                <mesh filename="package://c_husky_description/meshes/ur5e/collision/shoulder.stl" />
            </geometry>
        </collision>   
        <inertial>
            <mass value="3.7" />
            <origin rpy="0 0 0" xyz="0.0 0.0 0.0" />
            <inertia ixx="0.010267495893" ixy="0.0" ixz="0.0" iyy="0.010267495893" iyz="0.0" izz="0.00666" />
        </inertial>
    </link>
    <!-- link_ur_arm_shoulder_to_ur_base -->
    <joint name="ur_arm_shoulder_pan_joint" type="revolute">
        <parent link="ur_arm_base_link" />
        <child link="ur_arm_shoulder_link" />
        <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.163" />
        <axis xyz="0 0 1" />
        <limit effort="150.0" lower="-3.141592653589793" upper="3.141592653589793" velocity="3.14" />
        <dynamics damping="0.0" friction="0.0" />
    </joint>
    <!-- link_ur_arm_shoulder_to_gazebo -->
    <gazebo reference="ur_arm_shoulder_link">
        <selfCollide>true</selfCollide>
    </gazebo>
    <!-- set_transmission -->
    <transmission name="trans_ur_arm_shoulder_pan_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="ur_arm_shoulder_pan_joint">
            <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
        </joint>
        <actuator name="ur_arm_shoulder_pan_motor">
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <!-- ////////////////////////////////  PARAMS_FOR_UPPER_ARM_LINK  ///////////////////////////////////////////////// -->
    <!-- upper_arm_link -->
    <link name="ur_arm_upper_arm_link">
        <visual>
            <geometry>
                <mesh filename="package://c_husky_description/meshes/ur5e/visual/upperarm.dae" />
            </geometry>
            <material name="LightGrey">
                <color rgba="0.7 0.7 0.7 1.0" />
            </material>
        </visual>
        <collision>
            <geometry>
                <mesh filename="package://c_husky_description/meshes/ur5e/collision/upperarm.stl" />
            </geometry>
        </collision>
        <inertial>
            <mass value="8.393" />
            <origin rpy="0 0 0" xyz="0.0 0.0 0.2125" />
            <inertia ixx="0.1338857818623325" ixy="0.0" ixz="0.0" iyy="0.1338857818623325" iyz="0.0" izz="0.0151074" />
        </inertial>
    </link>
    <!-- link_upper_arm_link_to_ur_arm_shoulder_link -->
    <joint name="ur_arm_shoulder_lift_joint" type="revolute">
        <parent link="ur_arm_shoulder_link" />
        <child link="ur_arm_upper_arm_link" />
        <origin rpy="0.0 1.5707963267948966 0.0" xyz="0.0 0.138 0.0" />
        <axis xyz="0 1 0" />
        <limit effort="150.0" lower="-3.141592653589793" upper="3.141592653589793" velocity="3.14" />
        <dynamics damping="0.0" friction="0.0" />
    </joint>
    <!-- link_upper_arm_to_gazebo -->
    <gazebo reference="ur_arm_upper_arm_link">
        <selfCollide>true</selfCollide>
    </gazebo>
    <!-- set_transmission -->
    <transmission name="trans_ur_arm_shoulder_lift_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="ur_arm_shoulder_lift_joint">
            <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
        </joint>
        <actuator name="ur_arm_shoulder_lift_motor">
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <!-- ////////////////////////////////  PARAMS_FOR_FOREARM_LINK  ///////////////////////////////////////////////// -->
    <!-- forearm_link -->
    <link name="ur_arm_forearm_link">
        <visual>
            <geometry>
                <mesh filename="package://c_husky_description/meshes/ur5e/visual/forearm.dae" />
            </geometry>
            <material name="LightGrey">
                <color rgba="0.7 0.7 0.7 1.0" />
            </material>
        </visual>
        <collision>
            <geometry>
                <mesh filename="package://c_husky_description/meshes/ur5e/collision/forearm.stl" />
            </geometry>
        </collision>
        <inertial>
            <mass value="2.275" />
            <origin rpy="0 0 0" xyz="0.0 0.0 0.196" />
            <inertia ixx="0.031179620861480004" ixy="0.0" ixz="0.0" iyy="0.031179620861480004" iyz="0.0" izz="0.004095" />
        </inertial>
    </link>
    <!-- link_forearm_link_to_ur_arm_upper_arm_link -->
    <joint name="ur_arm_elbow_joint" type="revolute">
        <parent link="ur_arm_upper_arm_link" />
        <child link="ur_arm_forearm_link" />
        <origin rpy="0.0 0.0 0.0" xyz="0.0 -0.131 0.425" />
        <axis xyz="0 1 0" />
        <limit effort="150.0" lower="-3.141592653589793" upper="3.141592653589793" velocity="3.14" />
        <dynamics damping="0.0" friction="0.0" />
    </joint>
    <!-- link_ur_arm_forearm_to_gazebo -->
    <gazebo reference="ur_arm_forearm_link">
        <selfCollide>true</selfCollide>
    </gazebo>
    <!-- set_transmission -->
    <transmission name="trans_ur_arm_elbow_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="ur_arm_elbow_joint">
            <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
        </joint>
        <actuator name="ur_arm_elbow_motor">
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <!-- ////////////////////////////////  PARAMS_FOR_WRIST_1_JOINT  ///////////////////////////////////////////////// -->
    <!-- wrist_1_joint -->
    <link name="ur_arm_wrist_1_link">
        <visual>
            <geometry>
                <mesh filename="package://c_husky_description/meshes/ur5e/visual/wrist1.dae" />
            </geometry>
            <material name="LightGrey">
                <color rgba="0.7 0.7 0.7 1.0" />
            </material>
        </visual>
        <collision>
            <geometry>
                <mesh filename="package://c_husky_description/meshes/ur5e/collision/wrist1.stl" />
            </geometry>
        </collision>
        <inertial>
            <mass value="1.219" />
            <origin rpy="0 0 0" xyz="0.0 0.127 0.0" />
            <inertia ixx="0.0025598989760400002" ixy="0.0" ixz="0.0" iyy="0.0025598989760400002" iyz="0.0" izz="0.0021942" />
        </inertial>
    </link>
    <!-- link_wrist_1_joint_to_forearm_link -->
    <joint name="ur_arm_wrist_1_joint" type="revolute">
        <parent link="ur_arm_forearm_link" />
        <child link="ur_arm_wrist_1_link" />
        <origin rpy="0.0 1.5707963267948966 0.0" xyz="0.0 0.0 0.392" />
        <axis xyz="0 1 0" />
        <limit effort="28.0" lower="-3.141592653589793" upper="3.141592653589793" velocity="6.28" />
        <dynamics damping="0.0" friction="0.0" />
    </joint>
    <!-- link_wrist_1_to_gazebo -->
    <gazebo reference="ur_arm_wrist_1_link">
        <selfCollide>true</selfCollide>
    </gazebo>
    <!-- set_transmission -->
    <transmission name="trans_ur_arm_wrist_1_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="ur_arm_wrist_1_joint">
            <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
        </joint>
        <actuator name="ur_arm_wrist_1_motor">
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <!-- ////////////////////////////////  PARAMS_FOR_WRIST_2_JOINT  ///////////////////////////////////////////////// -->
    <!-- wrist_2_joint -->
    <link name="ur_arm_wrist_2_link">
        <visual>
            <geometry>
                <mesh filename="package://c_husky_description/meshes/ur5e/visual/wrist2.dae" />
            </geometry>
            <material name="LightGrey">
                <color rgba="0.7 0.7 0.7 1.0" />
            </material>
        </visual>
        <collision>
            <geometry>
                <mesh filename="package://c_husky_description/meshes/ur5e/collision/wrist2.stl" />
            </geometry>
        </collision>
        <inertial>
            <mass value="1.219" />
            <origin rpy="0 0 0" xyz="0.0 0.0 0.1" />
            <inertia ixx="0.0025598989760400002" ixy="0.0" ixz="0.0" iyy="0.0025598989760400002" iyz="0.0" izz="0.0021942" />
        </inertial>
    </link>
    <!-- link_wrist_2_joint_to_link_wrist_1_joint -->
    <joint name="ur_arm_wrist_2_joint" type="revolute">
        <parent link="ur_arm_wrist_1_link" />
        <child link="ur_arm_wrist_2_link" />
        <origin rpy="0.0 0.0 0.0" xyz="0.0 0.127 0.0" />
        <axis xyz="0 0 1" />
        <limit effort="28.0" lower="-3.141592653589793" upper="3.141592653589793" velocity="6.28" />
        <dynamics damping="0.0" friction="0.0" />
    </joint>
    <!-- link_wrist_2_to_gazebo -->
    <gazebo reference="ur_arm_wrist_2_link">
        <selfCollide>true</selfCollide>
    </gazebo>
    <!-- set_transmission -->
    <transmission name="trans_ur_arm_wrist_2_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="ur_arm_wrist_2_joint">
            <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
        </joint>
        <actuator name="ur_arm_wrist_2_motor">
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <!-- ////////////////////////////////  PARAMS_FOR_WRIST_3_JOINT  ///////////////////////////////////////////////// -->
    <!-- wrist_3_joint -->
    <link name="ur_arm_wrist_3_link">
        <visual>
            <geometry>
                <mesh filename="package://c_husky_description/meshes/ur5e/visual/wrist3.dae" />
            </geometry>
            <material name="LightGrey">
                <color rgba="0.7 0.7 0.7 1.0" />
            </material>
        </visual>
        <collision>
            <geometry>
                <mesh filename="package://c_husky_description/meshes/ur5e/collision/wrist3.stl" />
            </geometry>
        </collision>
        <inertial>
            <mass value="0.1879" />
            <origin rpy="1.5707963267948966 0 0" xyz="0.0 0.0771 0.0" />
            <inertia ixx="9.890410052167731e-05" ixy="0.0" ixz="0.0" iyy="9.890410052167731e-05" iyz="0.0" izz="0.0001321171875" />
        </inertial>
    </link>
    <!-- link_wrist_3_joint_to_link_wrist_2_joint -->
    <joint name="ur_arm_wrist_3_joint" type="revolute">
        <parent link="ur_arm_wrist_2_link" />
        <child link="ur_arm_wrist_3_link" />
        <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.1" />
        <axis xyz="0 1 0" />
        <limit effort="28.0" lower="-3.141592653589793" upper="3.141592653589793" velocity="6.28" />
        <dynamics damping="0.0" friction="0.0" />
    </joint>
    <!-- link_wrist_3_to_gazebo -->
    <gazebo reference="ur_arm_wrist_3_link">
        <selfCollide>true</selfCollide>
    </gazebo>
    <!-- set_transmission -->
    <transmission name="trans_ur_arm_wrist_3_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="ur_arm_wrist_3_joint">
            <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
        </joint>
        <actuator name="ur_arm_wrist_3_motor">
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <!-- ////////////////////////////////  UR_ARM_EE_LINK  ///////////////////////////////////////////////// -->
    <!-- arm_ee_link -->
    <link name="ur_arm_ee_link">
        <collision>
            <geometry>
                <box size="0.01 0.01 0.01" />
            </geometry>
            <origin rpy="0 0 0" xyz="-0.01 0 0" />
        </collision>
        <inertial>
            <mass value="0.1" />
            <inertia ixx="0.03" iyy="0.03" izz="0.03" ixy="0.0" ixz="0.0" iyz="0.0" />
        </inertial>
    </link>
    <!-- link_arm_ee_link_to_link_wrist_3_joint -->
    <joint name="ur_arm_ee_fixed_joint" type="fixed">
        <parent link="ur_arm_wrist_3_link" />
        <child link="ur_arm_ee_link" />
        <origin rpy="0.0 0.0 1.5707963267948966" xyz="0.0 0.1 0.0" />
    </joint>
    <!-- link_ee_link_to_gazebo -->
    <gazebo reference="ur_arm_ee_link">
        <selfCollide>true</selfCollide>
    </gazebo>
<!-- ////////////////////////////////  FOR_UR_ARM_END  ///////////////////////////////////////////////// -->


<!-- ////////////////////////////////  LINK_GRIPPER_TO_UR_ARM  ///////////////////////////////////////////////// -->
    <joint name="gripper_base_to_ee_link" type="fixed">
        <parent link="ur_arm_ee_link" />
        <child link="gipper_base" />
        <origin rpy="4.712385 0 0" xyz="0 0 0" />
        <axis xyz="1 0 0" />
        <limit effort="300" lower="-6.28318" upper="6.28318" velocity="1" />
    </joint>
<!-- ////////////////////////////////  LINK_GRIPPER_TO_UR_ARM  ///////////////////////////////////////////////// -->


<!-- ////////////////////////////////  FOR_GRIPPER_BEGIN  ///////////////////////////////////////////////// -->
    <!-- ////////////////////////////////  PARAMS_FOR_GRIPPER_BASE  ///////////////////////////////////////////////// -->
    <!-- gripper_base_link -->
    <link name="gipper_base">
        <visual>
            <origin rpy="0 1.5707 0" xyz="0.01 0 0 " />
            <geometry>
                <box size="0.2 0.08 0.01" />
            </geometry>
            <material name="black" />
        </visual>
    </link>
    <!-- link_gripper_to_finger_link_1_to_gazebo -->
    <gazebo reference="gipper_base">
        <selfCollide>true</selfCollide>
    </gazebo>

    <!-- //////////////////////////////////////   FINGER_LINK_1   ////////////////////////////////////////////// -->
    <!-- finger_link_1 -->
    <link name="gripper_finger_link_1">
        <visual>
            <origin rpy="0 1.5707 0" xyz="0.02 0 0" />
            <geometry>
                <box size="0.06 0.02 0.06" />
            </geometry>
            <material name="white" />
        </visual>
        <collision>
            <origin rpy="0 1.5707 0" xyz="0.02 0 0" />
            <geometry>
                <box size="0.06 0.02 0.06" />
            </geometry>
        </collision>
        <inertial>
            <mass value="0.1" />
            <inertia ixx="0.03" iyy="0.03" izz="0.03" ixy="0.0" ixz="0.0" iyz="0.0" />
        </inertial>
    </link>
    <!-- link_gripper_to_finger_link_1 -->
    <joint name="finger_joint_1" type="prismatic">
        <parent link="ur_arm_ee_link" />
        <child link="gripper_finger_link_1" />
        <origin rpy="0 0 0" xyz="0.02 -0.09 0" />
        <axis xyz="0 1 0" />
        <limit effort="100" lower="0" upper="0.06" velocity="0.02" />
    </joint>
    <!-- link_gripper_to_finger_link_1_to_gazebo -->
    <gazebo reference="gripper_finger_link_1">
        <selfCollide>true</selfCollide>
    </gazebo>
    <!-- set_transmission -->
    <transmission name="trans_finger_joint_1">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="finger_joint_1">
            <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
        </joint>
        <actuator name="finger_joint1_motor">
            <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <!-- //////////////////////////////////////   FINGER_LINK_2   ////////////////////////////////////////////// -->
    <!-- finger_link_2 -->
    <link name="gripper_finger_link_2">
        <visual>
            <origin rpy="0 1.5707 0" xyz="0.02 0 0" />
            <geometry>
                <box size="0.06 0.02 0.06" />
            </geometry>
            <material name="white" />
        </visual>
        <collision>
            <origin rpy="0 1.5707 0" xyz="0.02 0 0" />
            <geometry>
                <box size="0.06 0.02 0.06" />
            </geometry>
        </collision>
        <inertial>
            <mass value="0.1" />
            <inertia ixx="0.03" iyy="0.03" izz="0.03" ixy="0.0" ixz="0.0" iyz="0.0" />
        </inertial>
    </link>
    <!-- link_gripper_to_finger_link_2 -->
    <joint name="finger_joint_2" type="prismatic">
        <parent link="ur_arm_ee_link" />
        <child link="gripper_finger_link_2" />
        <origin rpy="0 0 0" xyz="0.02 0.09 0" />
        <axis xyz="0 -1 0" />
        <limit effort="100" lower="0" upper="0.06" velocity="0.02" />
    </joint>
    <!-- link_gripper_to_finger_link_2_to_gazebo -->
    <gazebo reference="gripper_finger_link_2">
        <selfCollide>true</selfCollide>
    </gazebo>
    <!-- set_transmission -->
    <transmission name="trans_finger_joint_2">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="finger_joint_2">
            <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
        </joint>
        <actuator name="finger_joint2_motor">
            <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <!-- //////////////////////////////////////   GRASPING FRAME   ////////////////////////////////////////////// -->
    <link name="grasping_frame" />
    <joint name="grasping_frame_joint" type="fixed">
        <parent link="gipper_base" />
        <child link="grasping_frame" />
        <origin rpy="0 0 0" xyz="0.06 0 0" />
    </joint>

    <!-- //////////////////////////////////////   ADD GRASP FIX FOR GAZEBO   ////////////////////////////////////////////// -->
    <gazebo>
        <plugin name="gazebo_grasp_fix" filename="libgazebo_grasp_fix.so">
            <arm>
            <arm_name>ur_for_2f</arm_name>
            <palm_link> ur_arm_wrist_3_link </palm_link>
            <gripper_link> gripper_finger_link_1 </gripper_link>
            <gripper_link> gripper_finger_link_2 </gripper_link>
            </arm>
        <forces_angle_tolerance>100</forces_angle_tolerance>
        <update_rate>4</update_rate>
        <grip_count_threshold>4</grip_count_threshold>
        <max_grip_count>8</max_grip_count>
        <release_tolerance>0.005</release_tolerance>
        <disable_collisions_on_attach>false</disable_collisions_on_attach>
        <contact_topic>__default_topic__</contact_topic>
        </plugin>
    </gazebo>
<!-- ////////////////////////////////  FOR_GRIPPER_END  ///////////////////////////////////////////////// -->


<!-- ////////////////////////////////  ADD_KINECT_FOR_UR_ARM_BEGIN  ///////////////////////////////////////////////// -->
    <!-- kinect_link -->
    <link name="kinect_link">
        <inertial>
            <mass value="0.1" />
            <origin xyz="0 0 0" />
            <inertia ixx="0.00307156543804" ixy="0.0" ixz="0.0" iyy="0.0031284904152700005" iyz="0.0" izz="0.00196432421427" />
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <box size="0.03 0.03 0.03" />
            </geometry>
            <material name="dark_grey"/>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 -0.05" />
            <geometry>
                <box size="0.03 0.03 0.03" />
            </geometry>
        </collision>
    </link>
    <!-- add_laser_to_top_plate -->
    <joint name="kinect_to_ur_joint" type="fixed">
        <origin rpy="0.0 0.0 0.0" xyz="0.0 0.07 0.055" />
        <parent link="ur_arm_wrist_3_link" />
        <child link="kinect_link" />
    </joint>
    <!-- link_kinect_to_gazebo -->
    <gazebo reference="kinect_link">
        <sensor type="depth" name="kinect">
            <always_on>true</always_on>
            <update_rate>20.0</update_rate>
            <camera>
                <horizontal_fov>1.0472</horizontal_fov>
                <image>
                    <format>R8G8B8</format>
                    <width>640</width>
                    <height>480</height>
                </image>
                <clip>
                    <near>0.05</near>
                    <far>8.0</far>
                </clip>
            </camera>
            <plugin name="kinect_controller" filename="libgazebo_ros_openni_kinect.so">
                <cameraName>kinect</cameraName>
                <alwaysOn>true</alwaysOn>
                <updateRate>10</updateRate>
                <imageTopicName>rgb/image_raw</imageTopicName>
                <depthImageTopicName>depth/image_raw</depthImageTopicName>
                <pointCloudTopicName>depth/points</pointCloudTopicName>
                <cameraInfoTopicName>rgb/camera_info</cameraInfoTopicName>
                <depthImageCameraInfoTopicName>depth/camera_info</depthImageCameraInfoTopicName>
                <frameName>ur_arm_wrist_3_link</frameName>
                <baseline>0.1</baseline>
                <distortion_k1>0.0</distortion_k1>
                <distortion_k2>0.0</distortion_k2>
                <distortion_k3>0.0</distortion_k3>
                <distortion_t1>0.0</distortion_t1>
                <distortion_t2>0.0</distortion_t2>
                <pointCloudCutoff>0.4</pointCloudCutoff>
            </plugin>
        </sensor>
    </gazebo>
<!-- ////////////////////////////////  ADD_KINECT_FOR_UR_ARM_END  ///////////////////////////////////////////////// -->


<!-- //////////////////////////////////////   ADD GAZEBO CONTROL   ////////////////////////////////////////////// -->
    <gazebo>
        <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
            <robotNamespace>/c_husky_1</robotNamespace>
        </plugin>
    </gazebo>

</robot>


